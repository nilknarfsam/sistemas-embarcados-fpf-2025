function p(t,n){if(typeof t!="function")throw new Error("expect `fn` to be a function");return f(t,n)}function y(t,n){if(typeof t!="function")throw new Error("expect `fn` to be a function");return n=n||{},n.withCallback=!0,f(t,n)}function s(t,n,r){return r===void 0&&(r=!0),function(i,o){if(i)return n(i);let a=arguments.length;if(a<=2||!r)return t(o);if(Array.isArray(r)){let c={};for(let e=1;e<a;e++)c[r[e-1]]=arguments[e];return t(c)}let u=new Array(a-1);for(let c=1;c<a;++c)u[c-1]=arguments[c];t(u)}}function f(t,n){n=n||{};let r=t.name;r=(r||"").replace(/\s|bound(?!$)/g,"");let i=function(){let o=this,a=arguments.length;if(n.withCallback&&typeof arguments[a-1]==="function")return t.apply(o,arguments);let u=new Array(a+1);for(let e=0;e<a;++e)u[e]=arguments[e];let c=a;return new Promise(function(e,l){u[c]=s(e,l,n==null?void 0:n.multiArgs),t.apply(o,u)})};return Object.defineProperty(i,"name",{value:r}),i}export{p as thenify,y as withCallback};
//# sourceMappingURL=index.mjs.map